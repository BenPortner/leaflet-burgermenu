{"version":3,"file":"leaflet-burgermenu.esm.js","sources":["../src/leaflet-burgermenu.js"],"sourcesContent":["// leaflet-burgermenu.js\n// A Leaflet plugin that adds a burger menu with submenus\n// Author: Benjamin W. Portner\n// License: MIT\nimport { Control, DomUtil, DomEvent } from \"leaflet\";\n\n\nexport class BurgerMenuControl extends Control {\n\n    constructor(options) {\n        const defaultOptions = {\n            position: 'topleft',\n            menuIcon: '&#9776;', // Burger icon\n            subMenuIndicator: 'âŠ³',\n            title: 'Menu',\n            menuItems: [] // [{ title: 'Main', subItems: [{ title: 'Sub1', onClick: fn }, ...] }]\n        };\n        options = { ...defaultOptions, ...options };\n        super(options);\n    }\n\n    _generateSubMenus(item, itemEl, level) {\n        if (item.menuItems && item.menuItems.length) {\n            if (level > 0) {\n                itemEl.textContent += ` ${this.options.subMenuIndicator}`;\n            }\n            const classList = `burger-menu level-${level} hidden`;\n            const subMenu = DomUtil.create('div', classList, itemEl);\n            DomEvent.on(itemEl, 'mouseover', function (e) {\n                subMenu.classList.remove('hidden');\n            });\n            DomEvent.on(itemEl, 'mouseout', function (e) {\n                subMenu.classList.add('hidden');\n            });\n            item.menuItems.forEach(subItem => {\n                const classList = `burger-menu-item level-${level}`;\n                const subItemEl = DomUtil.create('div', classList, subMenu);\n                subItemEl.textContent = subItem.title;\n                this._generateSubMenus(subItem, subItemEl, level + 1);\n            });\n        } else if (typeof item.onClick === 'function') {\n            DomEvent.on(itemEl, 'click', function (e) {\n                e.stopPropagation();\n                item.onClick(e);\n            });\n        }\n    }\n\n    onAdd(map) {\n        const container = DomUtil.create('div', 'leaflet-control-burgermenu');\n        DomEvent.disableClickPropagation(container);\n\n        const button = DomUtil.create('div', 'burger-button', container);\n        button.innerHTML = this.options.menuIcon;\n        button.title = this.options.title;\n\n        this._generateSubMenus(this.options, container, 0);\n\n        return container;\n    }\n};\n"],"names":[],"mappings":";;AAAA;AACA;AACA;AACA;;;AAIO,MAAM,iBAAiB,SAAS,OAAO,CAAC;;AAE/C,IAAI,WAAW,CAAC,OAAO,EAAE;AACzB,QAAQ,MAAM,cAAc,GAAG;AAC/B,YAAY,QAAQ,EAAE,SAAS;AAC/B,YAAY,QAAQ,EAAE,SAAS;AAC/B,YAAY,gBAAgB,EAAE,GAAG;AACjC,YAAY,KAAK,EAAE,MAAM;AACzB,YAAY,SAAS,EAAE,EAAE;AACzB,SAAS;AACT,QAAQ,OAAO,GAAG,EAAE,GAAG,cAAc,EAAE,GAAG,OAAO,EAAE;AACnD,QAAQ,KAAK,CAAC,OAAO,CAAC;AACtB;;AAEA,IAAI,iBAAiB,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE;AAC3C,QAAQ,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;AACrD,YAAY,IAAI,KAAK,GAAG,CAAC,EAAE;AAC3B,gBAAgB,MAAM,CAAC,WAAW,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;AACzE;AACA,YAAY,MAAM,SAAS,GAAG,CAAC,kBAAkB,EAAE,KAAK,CAAC,OAAO,CAAC;AACjE,YAAY,MAAM,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,SAAS,EAAE,MAAM,CAAC;AACpE,YAAY,QAAQ,CAAC,EAAE,CAAC,MAAM,EAAE,WAAW,EAAE,UAAU,CAAC,EAAE;AAC1D,gBAAgB,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC;AAClD,aAAa,CAAC;AACd,YAAY,QAAQ,CAAC,EAAE,CAAC,MAAM,EAAE,UAAU,EAAE,UAAU,CAAC,EAAE;AACzD,gBAAgB,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC;AAC/C,aAAa,CAAC;AACd,YAAY,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,IAAI;AAC9C,gBAAgB,MAAM,SAAS,GAAG,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC;AACnE,gBAAgB,MAAM,SAAS,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,SAAS,EAAE,OAAO,CAAC;AAC3E,gBAAgB,SAAS,CAAC,WAAW,GAAG,OAAO,CAAC,KAAK;AACrD,gBAAgB,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,SAAS,EAAE,KAAK,GAAG,CAAC,CAAC;AACrE,aAAa,CAAC;AACd,SAAS,MAAM,IAAI,OAAO,IAAI,CAAC,OAAO,KAAK,UAAU,EAAE;AACvD,YAAY,QAAQ,CAAC,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,UAAU,CAAC,EAAE;AACtD,gBAAgB,CAAC,CAAC,eAAe,EAAE;AACnC,gBAAgB,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;AAC/B,aAAa,CAAC;AACd;AACA;;AAEA,IAAI,KAAK,CAAC,GAAG,EAAE;AACf,QAAQ,MAAM,SAAS,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,4BAA4B,CAAC;AAC7E,QAAQ,QAAQ,CAAC,uBAAuB,CAAC,SAAS,CAAC;;AAEnD,QAAQ,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,eAAe,EAAE,SAAS,CAAC;AACxE,QAAQ,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ;AAChD,QAAQ,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK;;AAEzC,QAAQ,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,EAAE,CAAC,CAAC;;AAE1D,QAAQ,OAAO,SAAS;AACxB;AACA;;;;"}