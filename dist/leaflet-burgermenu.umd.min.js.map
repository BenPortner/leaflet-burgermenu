{"version":3,"file":"leaflet-burgermenu.umd.min.js","sources":["../src/leaflet-burgermenu.js"],"sourcesContent":["// leaflet-burgermenu.js\r\n// A Leaflet plugin that adds a burger menu with submenus\r\n// Author: Benjamin W. Portner\r\n// License: MIT\r\n\r\n\r\nexport class BurgerMenuControl extends L.Control {\r\n\r\n    constructor(options) {\r\n        const defaultOptions = {\r\n            position: 'topleft',\r\n            menuIcon: '&#9776;', // Burger icon\r\n            subMenuIndicator: 'âŠ³',\r\n            title: 'Menu',\r\n            menuItems: [] // [{ title: 'Main', subItems: [{ title: 'Sub1', onClick: fn }, ...] }]\r\n        };\r\n        options = { ...defaultOptions, ...options };\r\n        super(options);\r\n    }\r\n\r\n    _generateSubMenus(item, itemEl, level) {\r\n        if (item.menuItems && item.menuItems.length) {\r\n            if (level > 0) {\r\n                itemEl.textContent += ` ${this.options.subMenuIndicator}`;\r\n            }\r\n            const classList = `burger-menu level-${level} hidden`;\r\n            const subMenu = L.DomUtil.create('div', classList, itemEl);\r\n            L.DomEvent.on(itemEl, 'mouseover', function (e) {\r\n                subMenu.classList.remove('hidden');\r\n            });\r\n            L.DomEvent.on(itemEl, 'mouseout', function (e) {\r\n                subMenu.classList.add('hidden');\r\n            });\r\n            item.menuItems.forEach(subItem => {\r\n                const classList = `burger-menu-item level-${level}`;\r\n                const subItemEl = L.DomUtil.create('div', classList, subMenu);\r\n                subItemEl.textContent = subItem.title;\r\n                this._generateSubMenus(subItem, subItemEl, level + 1);\r\n            });\r\n        } else if (typeof item.onClick === 'function') {\r\n            L.DomEvent.on(itemEl, 'click', function(e) {\r\n                e.stopPropagation();\r\n                item.onClick(e);\r\n            });\r\n        }\r\n    }\r\n\r\n    onAdd(map) {\r\n        const container = L.DomUtil.create('div', 'leaflet-control-burgermenu');\r\n        L.DomEvent.disableClickPropagation(container);\r\n\r\n        const button = L.DomUtil.create('div', 'burger-button', container);\r\n        button.innerHTML = this.options.menuIcon;\r\n        button.title = this.options.title;\r\n\r\n        this._generateSubMenus(this.options, container, 0);\r\n\r\n        return container;\r\n    }\r\n};\r\n\r\nL.Control.BurgerMenu = BurgerMenuControl;\r\n\r\nL.control.burgerMenu = function (options) {\r\n    return new L.Control.BurgerMenu(options);\r\n};\r\n"],"names":["BurgerMenuControl","L","Control","constructor","options","super","position","menuIcon","subMenuIndicator","title","menuItems","_generateSubMenus","item","itemEl","level","length","textContent","this","classList","subMenu","DomUtil","create","DomEvent","on","e","remove","add","forEach","subItem","subItemEl","onClick","stopPropagation","onAdd","map","container","disableClickPropagation","button","innerHTML","BurgerMenu","control","burgerMenu"],"mappings":"6PAMO,MAAMA,UAA0BC,EAAEC,QAErC,WAAAC,CAAYC,GASRC,MADAD,EAAU,CANNE,SAAU,UACVC,SAAU,UACVC,iBAAkB,IAClBC,MAAO,OACPC,UAAW,MAEmBN,GAErC,CAED,iBAAAO,CAAkBC,EAAMC,EAAQC,GAC5B,GAAIF,EAAKF,WAAaE,EAAKF,UAAUK,OAAQ,CACrCD,EAAQ,IACRD,EAAOG,aAAe,IAAIC,KAAKb,QAAQI,oBAE3C,MAAMU,EAAY,qBAAqBJ,WACjCK,EAAUlB,EAAEmB,QAAQC,OAAO,MAAOH,EAAWL,GACnDZ,EAAEqB,SAASC,GAAGV,EAAQ,aAAa,SAAUW,GACzCL,EAAQD,UAAUO,OAAO,SACzC,IACYxB,EAAEqB,SAASC,GAAGV,EAAQ,YAAY,SAAUW,GACxCL,EAAQD,UAAUQ,IAAI,SACtC,IACYd,EAAKF,UAAUiB,SAAQC,IACnB,MAAMV,EAAY,0BAA0BJ,IACtCe,EAAY5B,EAAEmB,QAAQC,OAAO,MAAOH,EAAWC,GACrDU,EAAUb,YAAcY,EAAQnB,MAChCQ,KAAKN,kBAAkBiB,EAASC,EAAWf,EAAQ,EAAE,GAE5D,KAAkC,mBAAjBF,EAAKkB,SACnB7B,EAAEqB,SAASC,GAAGV,EAAQ,SAAS,SAASW,GACpCA,EAAEO,kBACFnB,EAAKkB,QAAQN,EAC7B,GAEK,CAED,KAAAQ,CAAMC,GACF,MAAMC,EAAYjC,EAAEmB,QAAQC,OAAO,MAAO,8BAC1CpB,EAAEqB,SAASa,wBAAwBD,GAEnC,MAAME,EAASnC,EAAEmB,QAAQC,OAAO,MAAO,gBAAiBa,GAMxD,OALAE,EAAOC,UAAYpB,KAAKb,QAAQG,SAChC6B,EAAO3B,MAAQQ,KAAKb,QAAQK,MAE5BQ,KAAKN,kBAAkBM,KAAKb,QAAS8B,EAAW,GAEzCA,CACV,EAGLjC,EAAEC,QAAQoC,WAAatC,EAEvBC,EAAEsC,QAAQC,WAAa,SAAUpC,GAC7B,OAAO,IAAIH,EAAEC,QAAQoC,WAAWlC,EACpC"}