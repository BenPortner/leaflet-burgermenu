{"version":3,"file":"leaflet-burgermenu.umd.js","sources":["../src/leaflet-burgermenu.js"],"sourcesContent":["// leaflet-burgermenu.js\r\n// A Leaflet plugin that adds a burger menu with submenus\r\n// Author: Benjamin W. Portner\r\n// License: MIT\r\n\r\n\r\nexport class BurgerMenuControl extends L.Control {\r\n\r\n    constructor(options) {\r\n        const defaultOptions = {\r\n            position: 'topleft',\r\n            menuIcon: '&#9776;', // Burger icon\r\n            subMenuIndicator: 'âŠ³',\r\n            title: 'Menu',\r\n            menuItems: [] // [{ title: 'Main', subItems: [{ title: 'Sub1', onClick: fn }, ...] }]\r\n        };\r\n        options = { ...defaultOptions, ...options };\r\n        super(options);\r\n    }\r\n\r\n    _generateSubMenus(item, itemEl, level) {\r\n        if (item.menuItems && item.menuItems.length) {\r\n            if (level > 0) {\r\n                itemEl.textContent += ` ${this.options.subMenuIndicator}`;\r\n            }\r\n            const classList = `burger-menu level-${level} hidden`;\r\n            const subMenu = L.DomUtil.create('div', classList, itemEl);\r\n            L.DomEvent.on(itemEl, 'mouseover', function (e) {\r\n                subMenu.classList.remove('hidden');\r\n            });\r\n            L.DomEvent.on(itemEl, 'mouseout', function (e) {\r\n                subMenu.classList.add('hidden');\r\n            });\r\n            item.menuItems.forEach(subItem => {\r\n                const classList = `burger-menu-item level-${level}`;\r\n                const subItemEl = L.DomUtil.create('div', classList, subMenu);\r\n                subItemEl.textContent = subItem.title;\r\n                this._generateSubMenus(subItem, subItemEl, level + 1);\r\n            });\r\n        } else if (typeof item.onClick === 'function') {\r\n            L.DomEvent.on(itemEl, 'click', function(e) {\r\n                e.stopPropagation();\r\n                item.onClick(e);\r\n            });\r\n        }\r\n    }\r\n\r\n    onAdd(map) {\r\n        const container = L.DomUtil.create('div', 'leaflet-control-burgermenu');\r\n        L.DomEvent.disableClickPropagation(container);\r\n\r\n        const button = L.DomUtil.create('div', 'burger-button', container);\r\n        button.innerHTML = this.options.menuIcon;\r\n        button.title = this.options.title;\r\n\r\n        this._generateSubMenus(this.options, container, 0);\r\n\r\n        return container;\r\n    }\r\n};\r\n\r\nL.Control.BurgerMenu = BurgerMenuControl;\r\n\r\nL.control.burgerMenu = function (options) {\r\n    return new L.Control.BurgerMenu(options);\r\n};\r\n"],"names":[],"mappings":";;;;;;IAAA;IACA;IACA;IACA;AACA;AACA;IACO,MAAM,iBAAiB,SAAS,CAAC,CAAC,OAAO,CAAC;AACjD;IACA,IAAI,WAAW,CAAC,OAAO,EAAE;IACzB,QAAQ,MAAM,cAAc,GAAG;IAC/B,YAAY,QAAQ,EAAE,SAAS;IAC/B,YAAY,QAAQ,EAAE,SAAS;IAC/B,YAAY,gBAAgB,EAAE,GAAG;IACjC,YAAY,KAAK,EAAE,MAAM;IACzB,YAAY,SAAS,EAAE,EAAE;IACzB,SAAS,CAAC;IACV,QAAQ,OAAO,GAAG,EAAE,GAAG,cAAc,EAAE,GAAG,OAAO,EAAE,CAAC;IACpD,QAAQ,KAAK,CAAC,OAAO,CAAC,CAAC;IACvB,KAAK;AACL;IACA,IAAI,iBAAiB,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE;IAC3C,QAAQ,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;IACrD,YAAY,IAAI,KAAK,GAAG,CAAC,EAAE;IAC3B,gBAAgB,MAAM,CAAC,WAAW,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC;IAC1E,aAAa;IACb,YAAY,MAAM,SAAS,GAAG,CAAC,kBAAkB,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;IAClE,YAAY,MAAM,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;IACvE,YAAY,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,EAAE,WAAW,EAAE,UAAU,CAAC,EAAE;IAC5D,gBAAgB,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACnD,aAAa,CAAC,CAAC;IACf,YAAY,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,EAAE,UAAU,EAAE,UAAU,CAAC,EAAE;IAC3D,gBAAgB,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IAChD,aAAa,CAAC,CAAC;IACf,YAAY,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,IAAI;IAC9C,gBAAgB,MAAM,SAAS,GAAG,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC,CAAC;IACpE,gBAAgB,MAAM,SAAS,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;IAC9E,gBAAgB,SAAS,CAAC,WAAW,GAAG,OAAO,CAAC,KAAK,CAAC;IACtD,gBAAgB,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,SAAS,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;IACtE,aAAa,CAAC,CAAC;IACf,SAAS,MAAM,IAAI,OAAO,IAAI,CAAC,OAAO,KAAK,UAAU,EAAE;IACvD,YAAY,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,SAAS,CAAC,EAAE;IACvD,gBAAgB,CAAC,CAAC,eAAe,EAAE,CAAC;IACpC,gBAAgB,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IAChC,aAAa,CAAC,CAAC;IACf,SAAS;IACT,KAAK;AACL;IACA,IAAI,KAAK,CAAC,GAAG,EAAE;IACf,QAAQ,MAAM,SAAS,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,4BAA4B,CAAC,CAAC;IAChF,QAAQ,CAAC,CAAC,QAAQ,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC;AACtD;IACA,QAAQ,MAAM,MAAM,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,eAAe,EAAE,SAAS,CAAC,CAAC;IAC3E,QAAQ,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;IACjD,QAAQ,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;AAC1C;IACA,QAAQ,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,EAAE,CAAC,CAAC,CAAC;AAC3D;IACA,QAAQ,OAAO,SAAS,CAAC;IACzB,KAAK;IACL,CACA;IACA,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,iBAAiB,CAAC;AACzC;IACA,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,UAAU,OAAO,EAAE;IAC1C,IAAI,OAAO,IAAI,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;IAC7C,CAAC;;;;;;;;"}